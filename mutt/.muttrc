#Farger 
source ~/.mutt/colors
source ~/.mutt/settings

#set sendmail ="/usr/bin/msmtp"
set realname = "Maximiliano Horta"
set charset=utf-8
set text_flowed
set send_charset="utf-8:iso-8859-1:us-ascii:"
set alias_file = "~/.mutt/alias"

#prøver å fixe iso-latin1 æøå feil
charset-hook US-ASCII     ISO-8859-1
charset-hook x-unknown    ISO-8859-1
charset-hook windows-1250 CP1250
charset-hook windows-1251 CP1251
charset-hook windows-1252 CP1252
charset-hook windows-1253 CP1253
charset-hook windows-1254 CP1254
charset-hook windows-1255 CP1255
charset-hook windows-1256 CP1256
charset-hook windows-1257 CP1257
charset-hook windows-1258 CP1258


#mapper
#folder-hook 'gmail' 'source ~/.mutt/gmail_mail'
#folder-hook 'UiO' 'source ~/.mutt/uio_mail'

#mail
source ~/.mutt/gmail_mail
source ~/.mutt/gpg.rc 

bind index "^" imap-fetch-mail

#----------------------------------------
# Skrive - svare paa e-post

set editor          = "/usr/bin/vim -c 'set spell spelllang=nb'"
set attribution     = "Hei %v,\n\n%{%A %d. %b %Y} %n wrote:"

# fix bcc to be hidden
unset write_bcc
set fast_reply
set include
set edit_headers
unset fcc_attach # No attachment in the record 

#----------------------------------------
# Lese e-post

# Headers
ignore *
unignore date: from: to: subject: cc: user-agent: x-mailer:
hdr_order date: from: to: subject: cc: user-agent: x-mailer: 


# set default sorting to threaded
set sort=threads                        # just like gmail
set sort_aux=last-date-received         # just like gmail
set pager_format="%4C %Z %[!%b %e at %I:%M %p] %.20n %s%* -- (%P)"
#set display_filter=~/dotfiles/mutt/convertdate.sh

# Fikse bytte av alternative
macro pager ,@aoh= "\
<enter-command> unalternative_order *; \
alternative_order text/enriched text/html text/plain text;\
macro pager A ,@aot= 'toggle alternative order'<enter>\
<exit><display-message>"

macro pager ,@aot= "\
<enter-command> unalternative_order *; \
alternative_order text/enriched text/plain text/html text;\
macro pager A ,@aoh= 'toggle alternative order'<enter>\
<exit><display-message>"

macro pager A ,@aot= "toggle alternative order"

## Å lese html
alternative_order text/enriched text/plain text/html 
auto_view text/html

## å se bilder/video
auto_view video/*
auto_view image/*

#Macros!
macro pager \cb <pipe-entry>'urlview'<enter> 'Follow links with urlview'

# Makro for å bytte konto - litt slitsom når man bruker imap
# macro compose v ":source ~/.mutt/identity_\`echo $(($(date +%s) % $(ls ~/.mutt/identity_[0-9]* | wc -l) + 1))\`\n"

#macro index <f2> '<sync-mailbox><enter-command>source ~/.mutt/uio_mail<enter><change-folder>!<enter>'

#macro index <f3> '<sync-mailbox><enter-command>source ~/.mutt/gmail_mail<enter><change-folder>!<enter>'
